---
export interface Props {
  title: string;
  description: string;
  siteName?: string;
  siteBase?: string;
}

const { title, description, siteName, siteBase = '' } = Astro.props;
const fullTitle = siteName ? `${title} | ${siteName}` : title;

import '../styles/design-tokens.css';
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    
    <!-- Open Graph -->
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={fullTitle} />
    <meta name="twitter:description" content={description} />
    
    <title>{fullTitle}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href={`${siteBase}/favicon.svg`} />
    
    <style is:global>
      /* Critical CSS for above-the-fold rendering */
      *, *::before, *::after {
        box-sizing: border-box;
      }
      
      html {
        font-family: var(--font-body);
        line-height: var(--leading-normal);
        color: var(--text-primary);
        background-color: var(--bg-base);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      h1, h2, h3, h4, h5, h6 {
        font-family: var(--font-display);
        font-weight: 700;
        line-height: var(--leading-tight);
        margin: 0;
      }
      
      p {
        margin: 0;
      }
      
      a {
        color: inherit;
        text-decoration: none;
      }
      
      button {
        font-family: var(--font-display);
        cursor: pointer;
        border: none;
        background: none;
      }
      
      img {
        max-width: 100%;
        height: auto;
        display: block;
      }
      
      /* Utility classes based on design tokens */
      .container {
        width: 100%;
        max-width: var(--site-max-width);
        margin-left: auto;
        margin-right: auto;
        padding-left: var(--site-padding);
        padding-right: var(--site-padding);
      }
      
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
  </head>
  <body>
    <slot />
  </body>
</html>
